{
    "app-id": "com.github.naaando.lyrics",
    "base": "io.elementary.BaseApp",
    "base-version": "juno-23.08",
    "runtime": "org.freedesktop.Platform",
    "runtime-version": "23.08",
    "sdk": "org.freedesktop.Sdk",
    "command": "com.github.naaando.lyrics",
    "finish-args": [
        "--persist=.lyrics",
        "--socket=wayland",
        "--socket=fallback-x11",
        "--talk-name=org.mpris.MediaPlayer2.*",
        "--share=ipc",
        "--metadata=X-DConf=migrate-path=/com/github/naaando/lyrics/"
    ],
    "modules": [
        "python3-doit.json",
        {
            "name": "xmlbird",
            "buildsystem": "simple",
            "build-commands": [
                "./configure --prefix=/app --libdir=/lib",
                "doit",
                "./install.py"
            ],
            "sources": [
                {
                    "type":"archive",
                    "url":"http://birdfont.org/xmlbird-releases/libxmlbird-1.2.15.tar.xz",
                    "sha256":"f065f88a317e031686185952c513ce02851ecd11bae7dda33ab89fcff9964d13"
                }
            ]
        },
        {
            "name": "libsoup",
            "buildsystem": "meson",
            "sources": [
                {
                   "type":"git",
                   "url":"https://gitlab.gnome.org/GNOME/libsoup.git",
                   "tag":"2.74.1",
                   "commit":"0e1d3eee74cc568aa077b3472e7fcd3f13d42007"
                }
            ]
        },
        {
            "name": "lyrics",
            "buildsystem": "meson",
            "config-opts": [
              "--buildtype=release"
            ],
            "sources": [
                {
                   "type":"git",
                   "url":"https://github.com/naaando/lyrics.git",
                   "tag":"0.9.0",
                   "commit":"557f0007e71338efa39140a406981ef8cdc417ae"
                },
                {
                   "type":"patch",
                   "path":"MprisPlayer.vala.patch"
                },
                {
                   "type":"patch",
                   "path":"Application.vala.patch"
                }
            ]
        }
    ]
}

